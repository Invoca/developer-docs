Promo Numbers
=============

Advertiser Campaign and Affiliate Campaign Promo Numbers
""""""""""""""""""""""""""""""""""""""""""""""""""""""""

The API provides the ability to manage promo numbers for a given campaign.
Promo numbers are uniquely identified by the phone number itself and these numbers are always generated by the Invoca platform.
Therefore, the operations on the promo numbers interface are not idempotent.
When you POST a promo number, we return the promo_number in the response body. This capability is JSON‐only.

.. list-table::
  :widths: 11 34 40
  :header-rows: 1
  :class: parameters

  * - Property
    - Type
    - Value

  * - id
    - integer (read-only)
    - The internal Invoca id of the promo number.

  * - id_from_network
    - string
    - Network specific id of the promo number.

  * - description
    - string (required)
    - Arbitrary description

  * - media_type
    - string (required)
    - one of:

      “Online: Content / Review Site”

      “Online: Discount / Coupon Site”

      “Online: Display”

      “Online: Email”

      “Online: Rewards / Incentive”

      “Online: Lead Form / Co Reg”

      “Online: Search”

      “Online: Social Media”

      “Online: Software”

      “Online: Other”

      “Mobile: Apps”

      “Mobile: Display”

      “Mobile: Search”

      “Mobile: SMS”

      “Mobile: Other”

      “Offline: Business Publication”

      “Offline: Call Center”

      “Offline: Direct Mail”

      “Offline: Directory”

      “Offline: Newspaper”

      “Offline: In­Call Ad”

      “Offline: Magazine”

      “Offline: Outdoor”

      “Offline: Radio”

      “Offline: TV”

      “Offline: Other”

  * - object_url
    - string (read-only)
    - URL for reaching the promo number in the UI.

  * - local_center
    - hash
    - Requires one of the following

      City & State required together

      A filled field determines the center to start looking for local numbers at.

      **“tn_prefix”**: can be either npa or npa or npa-nxx

      **“zipcode”**: a valid zipcode

      **“city”**: a valid city

      **“state”**: a valid state

  * - tn_prefix_whitelist
    - array of strings
    - an array of stringified limiters on the boundaries of where to look for local numbers given as npa or npa nxx pairs (ex. [“805”, “805612”])

  * - promo_type
    - string (optional)
    - For international campaigns that support local or mobile numbers. If not passed then promo numbers will default to the organizational default. (US/CA campaigns will continue to use local_center for local numbers)

      "Local"

      "Mobile"

  * - promo_number_looks_like
    - string (optional)
    - For international local promo number creation, a string phone number to try to match can be included. The first five digits will be used. (ex. “805”, “80561”)

  * - adwords_account_id
    - string (optional)
    - The ID of the AdWords client account to be associated with this promo number. Requires media type to be set to 'Google Call Extension'. (ex. "627-345-9815")



Custom Data
"""""""""""""
Promo numbers may have Custom Data Fields applied to them, which will be applied to calls originating through the promo number.
To apply Custom Data Values to a promo number, the top level parameter ``custom_data`` should be assigned a hash with each pair's key corresponding to a partner name.
The value of the pair should be the value to be applied.

For the following example, we would apply the value "Offline newspaper" to the Custom Data Field "channel".

.. code-block:: json

  {
    "custom_data": {
      "channel": "Offline newspaper"
    }
  }


Endpoint:

``https://invoca.net/api/@@NETWORK_API_VERSION/<network_id>/advertisers/<advertiser_id_from_network>/advertiser_campaigns/<advertiser_campaign_id_from_network>/promo_numbers/<promo_number>.json``

.. api_endpoint::
   :verb: GET
   :path: /promo_numbers
   :description: Get all Promo Numbers
   :page: get_promo_numbers

.. api_endpoint::
   :verb: GET
   :path: /promo_numbers/&lt;promo_number&gt;
   :description: Read a Promo Number
   :page: get_promo_number

.. api_endpoint::
   :verb: POST
   :path: /promo_numbers.json
   :description: Create an Advertiser/Affiliate Promo Number
   :page: post_promo_numbers

.. api_endpoint::
   :verb: PUT
   :path: /promo_numbers/&lt;promo_number&gt;
   :description: Update a Campaign Promo Number
   :page: put_promo_number

.. api_endpoint::
   :verb: DELETE
   :path: /promo_numbers/&lt;promo_number&gt;
   :description: Delete a Campaign Promo Number
   :page: delete_promo_number


